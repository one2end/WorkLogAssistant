# WorkLog Assistant - 快速开始指南

## 当前版本

**v0.2.0**

## 首次使用

### 1. 启动应用

**Windows用户：**
- 双击 `run.bat` 文件
- 或在命令行中运行：`.\run.bat`

**开发者：**
```bash
npm run electron:dev
```

### 2. 配置API密钥

首次使用需要配置AI API密钥：

1. 打开应用主窗口
2. 点击"设置"标签页
3. 在"API设置"部分填写：
   - **API Key**: 您的DeepSeek API密钥
   - **Base URL**: `https://api.deepseek.com/chat/completions`（默认）
   - **模型名称**: `deepseek-chat`（默认）
4. 配置会自动保存

### 3. 开始监控

1. 点击顶部的"记录中/已暂停"按钮
2. 应用将自动监控您的活动窗口
3. 活动记录会显示在"活动记录"标签页中

### 4. 生成摘要

1. 点击"摘要"标签页
2. 点击"生成摘要"按钮
3. 应用会根据最近的活动记录生成工作摘要
4. 摘要会保存为Markdown文件

## 日常使用

### 启动/暂停监控

点击"记录中/已暂停"按钮切换监控状态。

### 浮窗模式

- 点击窗口右上角的最小化按钮
- 应用会显示悬浮窗
- 浮窗显示当前正在使用的应用名称和持续时间
- 双击浮窗可恢复主窗口
- 浮窗可拖拽移动位置

### 查看活动记录

在"活动记录"标签页中查看所有监控的活动：
- 显示时间、应用名称、窗口标题
- 支持查看截图（如果启用了截图功能）
- 支持查看OCR（功能开发中）

### 查看历史数据

使用日历选择器查看历史日期：
1. 点击日期选择按钮
2. 在日历上选择日期
3. 有数据的日期会有绿色标记
4. 点击"今天"按钮快速返回当天

### 生成工作摘要

1. 点击"摘要"标签页
2. 点击"生成摘要"按钮
3. 等待AI生成摘要
4. 摘要会自动保存并显示在列表中

### 查看日志

点击"日志"标签页查看应用运行日志：
- 实时显示应用状态
- 支持清除日志
- 支持打开日志文件夹

### 数据导出

1. 点击导出按钮（📥）
2. 选择保存位置
3. 数据将导出为JSON文件

### 最小化到托盘

- 点击窗口右上角的"−"按钮显示浮窗
- 或点击"×"按钮最小化到托盘
- 双击托盘图标重新显示窗口

### 系统托盘操作

右键点击托盘图标可以：
- 显示主窗口
- 查看今日摘要
- 生成当前摘要
- 打开数据文件夹
- 开始/暂停记录
- 退出应用

## 配置选项

### 记录设置

- **记录间隔**: 每次检查之间的时间（秒）
  - 建议：60秒或更长
  - 最小：10秒
- **启用截图**: 是否自动截图
  - 截图会占用较多存储空间

### API设置

- **API Key**: DeepSeek API密钥
- **Base URL**: API端点地址
- **模型名称**: 使用的AI模型

### 摘要设置

- **回溯时间**: 摘要包含的活动时间范围（分钟）
- **最大令牌数**: AI生成的最大token数
- **压缩活动**: 是否压缩相似的活动记录
- **AI提示词**: 自定义AI提示词（可选）

### 通用设置

- **开机自启动**: 开机自动运行应用
- **最小化浮窗**: 最小化时显示悬浮窗
- **主题**: 选择界面主题
  - 深色（默认）
  - 浅色
  - 海洋
  - 森林
  - 玫瑰

## 数据管理

### 数据位置

所有数据存储在 `Data` 目录下：
- `activities.json`: 活动记录
- `summaries.json`: 摘要记录
- `summaries/`: Markdown格式的摘要文件
- `screenshots/`: 截图文件
- `ocr/`: OCR识别结果
- `logs/`: 应用日志文件

### 查看数据

1. 右键点击托盘图标
2. 选择"打开数据文件夹"
3. 可以直接查看和编辑数据文件

### 导出数据

点击主窗口的导出按钮，选择日期后导出JSON文件。

## 常见问题

### Q: 应用无法启动？

A:
1. 检查Node.js是否已安装（建议18+版本）
2. 重新安装依赖：`npm install`
3. 检查端口5173是否被占用

### Q: 窗口监控不工作？

A:
1. 确认已点击"记录中"按钮开始记录
2. 检查监控间隔设置是否合理
3. 某些应用可能需要管理员权限

### Q: AI摘要生成失败？

A:
1. 检查API密钥是否正确
2. 确认网络连接正常
3. 检查API端点配置
4. 查看日志面板了解详细错误

### Q: 截图功能占用太多空间？

A:
1. 在设置中关闭"启用截图"
2. 定期清理 `Data/screenshots` 目录
3. 调整截图间隔时间

### Q: 如何退出应用？

A:
1. 右键点击系统托盘图标
2. 选择"退出"
3. 不要直接关闭窗口（会最小化到托盘）

### Q: 浮窗不显示？

A:
1. 检查设置中"最小化浮窗"是否开启
2. 确认是在点击最小化按钮而非关闭按钮

## 性能优化建议

1. **监控间隔**: 设置为60-120秒，减少系统资源占用
2. **截图功能**: 仅在需要时启用
3. **数据清理**: 定期清理30天以上的旧数据
4. **摘要生成**: 设置合理的回溯时间（30-60分钟）

## 更新日志

### v0.2.0 (当前版本)
- ✅ 浮窗模式
- ✅ 日志管理
- ✅ 多主题支持（5种主题）
- ✅ 开机自启动
- ✅ 自动更新检查
- ✅ 数据导出功能
- ✅ 日历日期选择
- ✅ 使用统计图表

### v0.1.0
- ✅ 窗口监控功能
- ✅ 截图功能
- ✅ AI摘要生成
- ✅ 系统托盘
- ✅ JSON数据存储
- ✅ Vue 3用户界面
- ✅ 配置管理

---

祝您使用愉快！
